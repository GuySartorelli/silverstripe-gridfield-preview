jQuery.entwine("ss.preview",(function(e){e(".cms-preview").entwine({CurrentURL:null,_getNavigatorStates:function(){var i=this._super();i.length||(i=[{name:"Unversioned",url:this.CurrentURL,active:!0}]);var t=this;return e.map(i,(function(e){return e.url=t.getCurrentURL(),e})),i},previewSomeURL:function(e){this.setCurrentURL(e),this.setCurrentStateName("Unversioned"),this.enablePreview(),this._loadUrl(e),this.is(":visible")||this.changeMode("split",!1),this.is(":visible")||this.changeMode("preview",!1)}}),e(".gridfield-preview-btn").entwine({onmatch:function(){this.on("click",this.handleClick)},handleClick:function(i){return i.preventDefault(),i.stopPropagation(),e(".cms-preview").previewSomeURL(this.data("preview-link")),!1}})}));